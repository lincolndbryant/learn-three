(this["webpackJsonplearn-three"]=this["webpackJsonplearn-three"]||[]).push([[0],{128:function(e,t,n){e.exports=n(326)},132:function(e,t,n){},133:function(e,t,n){var a={"./bulb.svg":134,"./claw.svg":135,"./drop-01.svg":136,"./drop-narrow.svg":137,"./drop.svg":138,"./droplet.svg":139,"./feather.svg":140,"./hexagon.svg":76,"./hook.svg":141,"./leaf-simple.svg":142,"./logo.svg":143,"./poker-sharp-01.svg":144,"./poker-sharp.svg":145,"./poker.svg":146};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=133},134:function(e,t,n){e.exports=n.p+"static/media/bulb.d3a1ee51.svg"},135:function(e,t,n){e.exports=n.p+"static/media/claw.a1763bbc.svg"},136:function(e,t,n){e.exports=n.p+"static/media/drop-01.57c76527.svg"},137:function(e,t,n){e.exports=n.p+"static/media/drop-narrow.494cfd42.svg"},138:function(e,t,n){e.exports=n.p+"static/media/drop.5a97d7ac.svg"},139:function(e,t,n){e.exports=n.p+"static/media/droplet.b2f0e25e.svg"},140:function(e,t,n){e.exports=n.p+"static/media/feather.d9a36528.svg"},141:function(e,t,n){e.exports=n.p+"static/media/hook.3f451594.svg"},142:function(e,t,n){e.exports=n.p+"static/media/leaf-simple.f3f086d7.svg"},143:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},144:function(e,t,n){e.exports=n.p+"static/media/poker-sharp-01.e5da0332.svg"},145:function(e,t,n){e.exports=n.p+"static/media/poker-sharp.e5da0332.svg"},146:function(e,t,n){e.exports=n.p+"static/media/poker.b001a47e.svg"},147:function(e,t,n){var a={"./blue-tiles.json":148,"./drops.json":149,"./feather-poker.json":150,"./kennedith.json":151};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=147},148:function(e){e.exports=JSON.parse('{"layers":[{"url":"/svg/drop-01.svg","fillColor":"SLATE","radius":50,"numPoints":8,"strokeWidth":20,"strokeColor":"SUNLIGHT"},{"url":"/svg/drop-01.svg","fillColor":"NEW_ENGLAND","textureUrl":"/img/mosaic.jpg","radius":50,"numPoints":8,"scale":0.9,"zPosition":10},{"url":"/svg/drop-narrow.svg","fillColor":"TEAL","opacity":0.6,"radius":50,"numPoints":8,"zPosition":80,"scale":0.8,"depth":50,"strokeWidth":20,"strokeColor":"SUNLIGHT"},{"url":"/svg/claw.svg","fillColor":"MOONLIGHT","radius":50,"numPoints":4,"zPosition":100,"depth":200,"scale":0.4}]}')},149:function(e){e.exports=JSON.parse('{"layers":[{"url":"/svg/drop.svg","fillColor":"MOONLIGHT","radius":50,"numPoints":12},{"url":"/svg/drop-01.svg","fillColor":"NEW_ENGLAND","radius":50,"numPoints":10,"scale":0.95,"zPosition":10},{"url":"/svg/drop-narrow.svg","fillColor":"TEAL","radius":50,"numPoints":8,"zPosition":20,"scale":0.8}]}')},150:function(e){e.exports=JSON.parse('{"layers":[{"url":"/svg/bulb.svg","fillColor":"MOONLIGHT","radius":50,"numPoints":8},{"url":"/svg/poker.svg","fillColor":"SLATE","radius":50,"numPoints":6,"scale":0.95,"zPosition":10},{"url":"/svg/poker-sharp-01.svg","fillColor":"NEW_ENGLAND","radius":50,"numPoints":8,"scale":0.95,"zPosition":10},{"url":"/svg/feather.svg","fillColor":"PEA","radius":50,"numPoints":8,"zPosition":20,"scale":0.8}]}')},151:function(e){e.exports=JSON.parse('{"layers":[{"url":"/svg/bulb.svg","fillColor":"LAVENDER","radius":50,"numPoints":6,"depth":50},{"url":"/svg/droplet.svg","fillColor":"SLATE","radius":80,"numPoints":9,"scale":0.8,"zPosition":100},{"url":"/svg/droplet.svg","textureUrl":"/img/concrete.jpg","fillColor":"NEW_ENGLAND","radius":50,"numPoints":9,"scale":0.7,"zPosition":110},{"url":"/svg/poker-sharp.svg","fillColor":"PEA","radius":50,"numPoints":9,"scale":0.3,"zPosition":120,"opacity":0.8}]}')},326:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SUNLIGHT",(function(){return p})),n.d(a,"MOONLIGHT",(function(){return f})),n.d(a,"TEAL",(function(){return g})),n.d(a,"PEA",(function(){return h})),n.d(a,"SLATE",(function(){return v})),n.d(a,"NEW_ENGLAND",(function(){return E})),n.d(a,"LAVENDER",(function(){return b}));var r,o=n(0),i=n.n(o),s=n(9),l=n.n(s),c=(n(80),n(132),n(22)),u=n(6),m=n(21),d=n(78),p="#e9c46a",f="#a8dadc",g="#2a9d8f",h="#90be6d",v="#14213d",E="#457b9d",b="#6D72C3",y=(r=n(133)).keys().reduce((function(e,t){return e[t.replace("./","")]=r(t),e}),{}),k=function(e){return e.keys().reduce((function(t,n){return t[n.replace("./","")]=e(n),t}),{})}(n(147)),C=Object.keys(k).map((function(e){var t,n=k[e];return{name:n.name||e,layers:(t=n.layers,Object(d.b)(t.map((function(e,t){e.id||(e.id=t+1),a[e.fillColor]&&(e.fillColor=a[e.fillColor]),a[e.strokeColor]&&(e.strokeColor=a[e.strokeColor]);var n=e.url.split("/").pop();return console.log(n),y[n]&&(e.url=y[n]),[t+1,Object(d.a)(e)]}))))}})),O=n(54),x=n(115),P=n(4),j=n(3);n(10);var N=n(116);Object(m.b)(N);var w,L={bevelEnabled:!1,steps:1,depth:20,material:0,extrudeMaterial:1},z=function(e){var t=e.url,n=e.rotation,a=e.fillColor,r=void 0===a?g:a,s=e.strokeWidth,l=Object(O.a)(e,["url","rotation","fillColor","strokeWidth"]),d=Object(m.d)(x.a,t),p=Object(o.useMemo)((function(){return d.paths.flatMap((function(e,t){return e.toShapes(!0).map((function(n){return{shape:n,geometry:(new P.Geometry).setFromPoints(n.getPoints()),color:e.color,index:t}}))}))[0]}),[d]),h=Object(m.d)(P.TextureLoader,l.textureUrl?[l.textureUrl]:[]),v=Object(u.a)(h,1)[0];v&&(v.wrapS=v.wrapT=P.MirroredRepeatWrapping,v.offset.set(0,0),v.repeat.set(.001,.001));var E={opacity:l.opacity||1,color:r||p.color},b={position:l.position,rotation:[0,0,n||0],scale:l.scale},y=Object(c.a)({},L,{depth:l.depth||10}),k={strokeWidth:s,strokeColor:l.strokeColor||f},C=function(e){return e.phong?i.a.createElement("meshPhongMaterial",Object.assign({},e,{shininess:100,specular:f})):i.a.createElement("meshStandardMaterial",e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("mesh",Object.assign({},b,{receiveShadow:!0,castShadow:!0}),i.a.createElement(C,Object.assign({attach:"material",map:v,transparent:!0},E)),i.a.createElement("extrudeGeometry",{attach:"geometry",args:[p.shape,y]})),s&&i.a.createElement("mesh",b,i.a.createElement("meshLine",{attach:"geometry",geometry:p.geometry}),i.a.createElement("meshLineMaterial",{attach:"material",depthTest:!0,lineWidth:s,color:k.strokeColor,sizeAttenuation:!0})))},S=n(121);Object(m.b)({OrbitControls:S.a});var A=0,M=function(e){var t=e.animating;w||(w=Date.now());var n=Object(m.e)(),a=n.camera,r=n.gl.domElement,s=Object(o.useRef)();return Object(m.c)((function(e,n){var a=e.camera;t?A+=.2*n:.2*n,s.current.update(),a.position.set(500*Math.sin(A),500*Math.cos(A),a.position.z)})),i.a.createElement("orbitControls",{ref:s,args:[a,r]})},T=n(76),I=n.n(T),G=function(e){var t=e.animating,n=e.intensity,a=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement(M,{animating:t}),i.a.createElement("ambientLight",{position:[0,0,500],color:f}),i.a.createElement("gridHelper",{args:[2e3,20],rotation:[Math.PI/2,0,0]}),i.a.createElement("pointLight",{position:[0,0,500],intensity:n}),i.a.createElement(o.Suspense,{fallback:null},i.a.createElement(z,{url:I.a,textureUrl:"/img/dark-stone.jpg",scale:200,zPosition:-20})),i.a.createElement("mesh",null,i.a.createElement("coneGeometry",{args:[50,200,320]}),i.a.createElement("meshBasicMaterial",{color:16776960})),a)},U=function(e){var t=e.numPoints,n=e.radius,a=e.zPosition,r=e.PointComponent,s=Object(O.a)(e,["numPoints","radius","zPosition","PointComponent"]);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array(Math.ceil((t-e)/n)).fill(e).map((function(e,t){return e+t*n}))}(0,360,360/t).map((function(e,t){var l=P.MathUtils.degToRad(e);return"number"===typeof s.scale&&(s.scale=[s.scale,s.scale,s.scale]),i.a.createElement(o.Suspense,{fallback:null,key:t},i.a.createElement(r,Object.assign({key:t,rotation:-l,position:[Math.sin(l)*n,Math.cos(l)*n,a]},s)))}))};U.defaultProps={numPoints:6,rotations:1,radius:0,zPosition:0,PointComponent:z};var D=U,W=function(e){return e.pattern.layers.toList().toJS().map((function(e,t){return i.a.createElement(D,Object.assign({key:t},e))}))},_=n(7),H=n(56),J=n(127),B=(n(160),n(11)),R=n(17),F=n(13),V=n(12),K=n(125),q=function(e){Object(V.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(B.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={displayColorPicker:!1},e.handleClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker})},e.handleClose=function(){e.setState({displayColorPicker:!1})},e}return Object(R.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"color-button"},i.a.createElement("div",{style:{backgroundColor:this.props.value,width:34,height:34,display:"inline-block"},onClick:this.handleClick}),i.a.createElement("button",{className:"button is-primary",onClick:this.handleClick},"Pick Color"),this.state.displayColorPicker?i.a.createElement("div",{style:{position:"absolute",zIndex:"2"}},i.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:this.handleClose}),i.a.createElement(K.ChromePicker,{color:this.props.value,onChange:this.props.onChange})):null)}}]),n}(i.a.Component),Q=Object(H.a)(H.b),X=[{name:"numPoints",type:"number",min:1,max:16,step:1},{name:"scale",type:"number",min:.1,max:5,step:.05},{name:"radius",type:"number",min:0,max:1e3,step:20},{name:"strokeWidth",type:"number",min:0,max:30},{name:"opacity",type:"number",min:.1,max:1,step:.05}],Y=[{label:"None",value:null}].concat(["/img/mosaic.jpg","/img/concrete.jpg","/img/dark-stone.jpg"].map((function(e){return{label:e,value:e}}))),Z=function(e){var t=e.layer,n=e.updatePattern;return i.a.createElement("section",{className:"layer-controls"},i.a.createElement("h3",{size:"small"},"Layer ",t.id),X.map((function(e,a){return function(e,a){return i.a.createElement(_.d,{key:a,horizontal:!0,expanded:!0},i.a.createElement(_.d.Label,{size:"small",className:"is-normal"},i.a.createElement(_.e,{className:"has-text-light"},e.name)),i.a.createElement(_.d.Body,null,i.a.createElement(Q,Object.assign({},e,{type:"range",size:"small",menuPlacement:"auto",menuPosition:"fixed",value:t[e.name]||1,onChange:function(a){n(t.id,e.name,a)}}))))}(e,a)})),i.a.createElement(_.d,{horizontal:!0,expanded:!0},i.a.createElement(_.d.Label,{size:"small"},i.a.createElement(_.e,{className:"has-text-light"},"fillColor")),i.a.createElement(_.d.Body,null,i.a.createElement(q,{value:t.fillColor,onChange:function(e){n(t.id,"fillColor",e.hex)}}))),function(e){var a={container:function(e){return Object(c.a)({},e,{width:200})},option:function(e){return Object(c.a)({},e,{color:"black"})}},r=t[e]?Y.find((function(n){return n.value===t[e]})):Y[0];return i.a.createElement(_.d,{horizontal:!0,expanded:!0},i.a.createElement(_.d.Label,{size:"small",className:"is-normal"},i.a.createElement(_.e,{className:"has-text-light"},e)),i.a.createElement(_.d.Body,{style:{width:"300px"}},i.a.createElement(J.a,{options:Y,value:r,onChange:function(a){n(t.id,e,a.value)},styles:a})))}("textureUrl"))},$=function(e){var t=e.pattern,n=e.patternIndex,a=e.setPatternIndex,r=e.intensity,o=e.setIntensity,s=e.updatePattern;return i.a.createElement("section",{className:"section scene-controls is-dark has-text-light"},i.a.createElement("div",{className:"global-controls"},i.a.createElement(_.d,{horizontal:!0},i.a.createElement(_.d.Label,{size:"normal"},i.a.createElement(_.e,{className:"has-text-light"},"Pattern")),i.a.createElement(_.d.Body,null,i.a.createElement(_.b,null,i.a.createElement(_.c,{onChange:function(e){return a(e.target.value)},width:"100%"},i.a.createElement(_.c.Trigger,null,i.a.createElement(_.a,{width:"100%",textAlign:"left"},t.name)),i.a.createElement(_.c.Menu,null,i.a.createElement(_.c.Content,null,C.map((function(e,t){return i.a.createElement(_.c.Item,{key:t,value:t,active:n===t,onClick:function(){return a(t)}},e.name)})))))))),i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-label"},i.a.createElement(_.e,{className:"has-text-light"},"Point light intensity")),i.a.createElement("div",{className:"field-body"},i.a.createElement(H.b,{min:.1,max:5,step:.05,value:r,onChange:function(e){return o(e)}})))),t&&t.layers.toList().toJS().map((function(e,t){return i.a.createElement(Z,{key:t,layer:e,updatePattern:s})})))},ee=n(55),te=n.n(ee),ne=function(e){var t=window.location.protocol+"//"+window.location.host+window.location.pathname+e;window.history.pushState({path:t},"",t)};var ae=function(e,t){var n=Object(o.useState)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search,n=te.a.parse(t.substring(1));return n[e]}(e)||t),a=Object(u.a)(n,2),r=a[0],i=a[1];return[r,Object(o.useCallback)((function(t){i(t),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.search,a=te.a.parse(n.substring(1)),r=te.a.stringify(Object(c.a)({},a,Object(j.a)({},e,t)));ne("?".concat(r))}(e,t)}),[e])]};var re=function(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(1),s=Object(u.a)(r,2),l=s[0],d=s[1],p=ae("i",0),f=Object(u.a)(p,2),g=f[0],h=f[1],v=Object(o.useState)(C[g]),E=Object(u.a)(v,2),b=E[0],y=E[1];return Object(o.useEffect)((function(){var e=function(e){if(!e.metaKey)if(32===e.keyCode)a(!n);else if("ArrowLeft"===e.key){var t=(g-1)%C.length;t<0&&(t=C.length-1),h(t),y(C[t])}else{if("ArrowRight"!==e.key)return;var r=(g+1)%C.length;h(r),y(C[r])}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}})),Object(o.useEffect)((function(){var e=C[g];y(e)}),[g]),i.a.createElement("main",{className:"App"},i.a.createElement($,{pattern:b,patternIndex:g,setPatternIndex:h,intensity:l,setIntensity:d,updatePattern:function(e,t,n){y((function(a){return Object(c.a)({},a,{layers:a.layers.setIn([e,t],n)})}))}}),i.a.createElement(m.a,{camera:{fov:90,position:[0,0,500],near:1,far:1e4,up:[0,0,100]},onCreated:function(e){window.__scene=e,e.camera.lookAt(0,0,0)}},i.a.createElement(G,{animating:n,intensity:l},i.a.createElement(W,{key:b.name,pattern:b}))))};l.a.render(i.a.createElement(re,null),document.getElementById("root"))},76:function(e,t,n){e.exports=n.p+"static/media/hexagon.6bbb3d58.svg"},80:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.16d2ba93.chunk.js.map