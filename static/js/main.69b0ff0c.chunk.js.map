{"version":3,"sources":["svg sync //.svg$","svg/bulb.svg","svg/claw.svg","svg/drop-01.svg","svg/drop-narrow.svg","svg/drop.svg","svg/droplet.svg","svg/feather.svg","svg/hexagon.svg","svg/hook.svg","svg/leaf-simple.svg","svg/logo.svg","svg/poker-sharp-01.svg","svg/poker-sharp.svg","svg/poker.svg","patterns sync //.(json)$","svg/index.js","components/CameraControls.js","constants/colors.js","patterns/index.js","lib/layer.js","components/FiberCanvas.js","lib/utils.js","components/SVGShape.js","components/FiberStar.js","components/Pattern.js","components/ColorButton.js","components/SceneControls.js","hooks/useQueryString.js","components/CenterCone.js","components/Timer.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","require","startAt","SUNLIGHT","MOONLIGHT","TEAL","PEA","SLATE","NEW_ENGLAND","LAVENDER","svgFiles","reduce","acc","next","replace","patternFiles","importAll","PATTERNS","filename","layers","patternData","name","OrderedMap","layer","i","COLORS","fillColor","strokeColor","highlight","fileName","url","split","pop","textureUrl","process","zPosition","Map","extend","OrbitControls","elapsedMs","CameraControls","animating","Date","now","useThree","camera","domElement","gl","controls","useRef","useFrame","delta","current","update","position","set","Math","sin","cos","z","ref","args","FiberCanvas","intensity","children","rotation","PI","meshline","EXTRUDE_DEFAULTS","bevelEnabled","steps","depth","material","extrudeMaterial","SVGShape","strokeWidth","rest","svg","useLoader","SVGLoader","shape","useMemo","paths","flatMap","path","index","toShapes","geometry","THREE","setFromPoints","getPoints","color","includes","texture","wrapS","wrapT","offset","repeat","materialProps","opacity","meshProps","scale","extrudeSettings","strokeSettings","MaterialComponent","props","phong","attach","shininess","specular","receiveShadow","castShadow","transparent","extrude","depthTest","lineWidth","sizeAttenuation","FiberStar","numPoints","radius","PointComponent","ticks","start","stop","step","Array","ceil","fill","x","y","range","rot","rad","MathUtils","degToRad","highlightProps","fallback","key","defaultProps","rotations","Pattern","pattern","toList","toJS","ColorButton","state","displayColorPicker","handleClick","setState","handleClose","className","style","backgroundColor","this","value","width","height","display","onClick","zIndex","top","right","bottom","left","onChange","React","Component","SliderWithTooltip","createSliderWithTooltip","Slider","LAYER_CONTROLS","type","min","max","TEXTURE_OPTIONS","label","concat","SVG_OPTIONS","PATTERN_OPTIONS","customStyles","container","provided","option","FieldWrapper","labelText","horizontal","expanded","Label","size","Body","LayerControls","updatePattern","onHide","useState","hidden","setHidden","prop","menuPlacement","menuPosition","renderNumberField","hex","propName","find","options","styles","renderSvgUrlField","renderTextureUrlField","patternIndex","setPatternIndex","controlsVisible","setControlsVisible","setIntensity","renderLayer","patternValue","cx","visible","opt","val","setQueryStringWithoutPageReload","qsValue","newurl","window","location","protocol","host","pathname","history","pushState","useQueryString","initialValue","queryString","search","values","qs","parse","substring","getQueryStringValue","setValue","useCallback","newValue","newQsValue","stringify","setQueryStringValue","CenterCone","springProps","useSpring","loop","to","number","zPos","from","config","duration","reset","mesh","position-z","scale-x","scale-y","scale-z","Timer","setTicks","useEffect","console","log","Loop","ts","Transport","bpm","_transport","App","setAnimating","setPattern","onKeyDown","metaKey","keyCode","pause","length","addEventListener","removeEventListener","newPattern","SceneControls","setIn","fov","near","far","up","onCreated","scene","__scene","lookAt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69b0ff0c.chunk.js","sourcesContent":["var map = {\n\t\"./bulb.svg\": 162,\n\t\"./claw.svg\": 163,\n\t\"./drop-01.svg\": 164,\n\t\"./drop-narrow.svg\": 165,\n\t\"./drop.svg\": 166,\n\t\"./droplet.svg\": 167,\n\t\"./feather.svg\": 168,\n\t\"./hexagon.svg\": 169,\n\t\"./hook.svg\": 170,\n\t\"./leaf-simple.svg\": 171,\n\t\"./logo.svg\": 172,\n\t\"./poker-sharp-01.svg\": 173,\n\t\"./poker-sharp.svg\": 174,\n\t\"./poker.svg\": 175\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 161;","module.exports = __webpack_public_path__ + \"static/media/bulb.d3a1ee51.svg\";","module.exports = __webpack_public_path__ + \"static/media/claw.a1763bbc.svg\";","module.exports = __webpack_public_path__ + \"static/media/drop-01.57c76527.svg\";","module.exports = __webpack_public_path__ + \"static/media/drop-narrow.494cfd42.svg\";","module.exports = __webpack_public_path__ + \"static/media/drop.5a97d7ac.svg\";","module.exports = __webpack_public_path__ + \"static/media/droplet.b2f0e25e.svg\";","module.exports = __webpack_public_path__ + \"static/media/feather.d9a36528.svg\";","module.exports = __webpack_public_path__ + \"static/media/hexagon.6bbb3d58.svg\";","module.exports = __webpack_public_path__ + \"static/media/hook.3f451594.svg\";","module.exports = __webpack_public_path__ + \"static/media/leaf-simple.f3f086d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = __webpack_public_path__ + \"static/media/poker-sharp-01.e5da0332.svg\";","module.exports = __webpack_public_path__ + \"static/media/poker-sharp.e5da0332.svg\";","module.exports = __webpack_public_path__ + \"static/media/poker.b001a47e.svg\";","var map = {\n\t\"./basic-flower.json\": 177,\n\t\"./blue-tiles.json\": 178,\n\t\"./drops.json\": 179,\n\t\"./feather-poker.json\": 180,\n\t\"./kennedith.json\": 181,\n\t\"./materials.json\": 182\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 176;","const importAll = (require) =>\n  require.keys().reduce((acc, next) => {\n    acc[next.replace(\"./\", \"\")] = require(next);\n    return acc;\n  }, {});\n\nconst svgFiles = importAll(require.context(\"./\", true, /\\.svg$/));\n\nexport default svgFiles;\n","import React, { useRef } from \"react\";\nimport { useFrame, useThree, extend } from \"react-three-fiber\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\n\nextend({ OrbitControls });\n\nlet startAt;\nlet elapsedMs = 0;\nlet pausedMs = 0;\nconst speed = 0.2;\nconst radius = 500;\n\nconst CameraControls = ({ animating }) => {\n  if (!startAt) {\n    startAt = Date.now();\n  }\n  // Get a reference to the Three.js Camera, and the canvas html element.\n  // We need these to setup the OrbitControls component.\n  // https://threejs.org/docs/#examples/en/controls/OrbitControls\n  const {\n    camera,\n    gl: { domElement },\n  } = useThree();\n  // Ref to the controls, so that we can update them on every frame using useFrame\n  const controls = useRef();\n  useFrame(({ camera }, delta) => {\n    if (animating) {\n      elapsedMs += delta * speed;\n    } else {\n      pausedMs += delta * speed;\n    }\n    controls.current.update();\n    // camera.rotation.z = elapsedMs % 360;\n    camera.position.set(\n      Math.sin(elapsedMs) * radius,\n      Math.cos(elapsedMs) * radius,\n      camera.position.z\n    );\n    // camera.lookAt(0, 0, 0);\n  });\n  return <orbitControls ref={controls} args={[camera, domElement]} />;\n};\n\nexport default CameraControls;\n","export const SUNLIGHT = \"#e9c46a\";\nexport const MOONLIGHT = \"#a8dadc\";\nexport const TEAL = \"#2a9d8f\";\nexport const PEA = \"#90be6d\";\nexport const SLATE = \"#14213d\";\nexport const NEW_ENGLAND = \"#457b9d\";\nexport const LAVENDER = \"#6D72C3\";\n","import { createLayers } from \"../lib/layer\";\n\nconst importAll = (require) =>\n  require.keys().reduce((acc, next) => {\n    acc[next.replace(\"./\", \"\")] = require(next);\n    return acc;\n  }, {});\n\nconst patternFiles = importAll(require.context(\"./\", true, /\\.(json)$/));\n\nconst PATTERNS = Object.keys(patternFiles).map((filename) => {\n  const patternData = patternFiles[filename];\n  return {\n    name: patternData.name || filename,\n    layers: createLayers(patternData.layers),\n  };\n});\n\nexport default PATTERNS;\n","import { Map, OrderedMap } from \"immutable\";\nimport * as COLORS from \"../constants/colors\";\nimport svgFiles from \"../svg\";\n\nconst LAYER_Z_OFFSET = 10;\n\nexport const createLayers = (layers) => {\n  return OrderedMap(\n    layers.map((layer, i) => {\n      if (!layer.id) {\n        layer.id = i + 1;\n      }\n      if (COLORS[layer.fillColor]) {\n        layer.fillColor = COLORS[layer.fillColor];\n      }\n      if (COLORS[layer.strokeColor]) {\n        layer.strokeColor = COLORS[layer.strokeColor];\n      }\n      if (layer.highlight) {\n        if (COLORS[layer.highlight.fillColor]) {\n          layer.highlight.fillColor = COLORS[layer.highlight.fillColor];\n        }\n        if (COLORS[layer.highlight.strokeColor]) {\n          layer.highlight.strokeColor = COLORS[layer.highlight.strokeColor];\n        }\n      }\n      const fileName = layer.url.split(\"/\").pop();\n      if (svgFiles[fileName]) {\n        layer.url = svgFiles[fileName];\n      }\n      if (layer.textureUrl) {\n        layer.textureUrl = process.env.PUBLIC_URL + layer.textureUrl;\n      }\n      if (!layer.zPosition) {\n        layer.zPosition = i * LAYER_Z_OFFSET;\n      }\n      return [layer.id, Map(layer)];\n    })\n  );\n};\n","import React from \"react\";\nimport CameraControls from \"./CameraControls\";\n\nconst FiberCanvas = ({ animating, intensity, children }) => {\n  return (\n    <>\n      <CameraControls animating={animating} />\n      <gridHelper args={[2000, 20]} rotation={[Math.PI / 2, 0, 0]} />\n      <ambientLight position={[0, 0, 500]} />\n      <pointLight position={[0, 0, 500]} intensity={intensity} />\n      {children}\n    </>\n  );\n};\n\nexport default FiberCanvas;\n","import * as THREE from \"three\";\n\nexport const range = (start, stop, step = 1) => {\n  return Array(Math.ceil((stop - start) / step))\n    .fill(start)\n    .map((x, y) => x + y * step);\n};\n\nexport function pick(o, ...props) {\n  return Object.assign({}, ...props.map((prop) => ({ [prop]: o[prop] })));\n}\n\nlet _id = 0;\n\nconst uniqueId = () => _id++;\n\nexport const processSVG = (svgData) => {\n  const processed = svgData.paths.flatMap((path, index) => {\n    const shapes = path.toShapes(true);\n    return shapes.map((shape) => {\n      return {\n        shape,\n        geometry: new THREE.Geometry().setFromPoints(shape.getPoints()),\n        color: path.color,\n        index,\n      };\n    });\n  });\n  // console.log(processed[0]);\n  return processed[0];\n};\n","import React, { useMemo } from \"react\";\nimport { SVGLoader } from \"three/examples/jsm/loaders/SVGLoader\";\nimport { extend, useLoader } from \"react-three-fiber\";\nimport { MOONLIGHT, TEAL } from \"../constants/colors\";\nimport * as THREE from \"three\";\nimport { processSVG } from \"../lib/utils\";\nimport * as meshline from \"threejs-meshline\";\n\nextend(meshline);\n\nconst EXTRUDE_DEFAULTS = {\n  bevelEnabled: false,\n  steps: 1,\n  depth: 20, //extrusion depth, don't define an extrudePath\n  material: 0, //material index of the front and back face\n  extrudeMaterial: 1, //material index of the side faces\n};\n\nconst SVGShape = ({ url, rotation, fillColor, strokeWidth, ...rest }) => {\n  const svg = useLoader(SVGLoader, url);\n  const shape = useMemo(() => processSVG(svg), [svg]);\n\n  if (rest.textureUrl && !rest.textureUrl.includes(\"/\")) {\n    rest.textureUrl = process.env.PUBLIC_URL + \"/img/\" + rest.textureUrl;\n  }\n  const [texture] = useLoader(\n    THREE.TextureLoader,\n    rest.textureUrl ? [rest.textureUrl] : []\n  );\n  if (texture) {\n    texture.wrapS = texture.wrapT = THREE.MirroredRepeatWrapping;\n    texture.offset.set(0, 0);\n    texture.repeat.set(0.001, 0.001);\n  }\n\n  const materialProps = {\n    opacity: rest.opacity || 1,\n  };\n  if (fillColor) {\n    materialProps.color = fillColor;\n  }\n  const meshProps = {\n    position: rest.position,\n    rotation: [0, 0, rotation || 0],\n    scale: rest.scale,\n  };\n  const extrudeSettings = {\n    ...EXTRUDE_DEFAULTS,\n    depth: rest.depth || 10,\n  };\n  const strokeSettings = {\n    strokeWidth: strokeWidth,\n    strokeColor: rest.strokeColor || MOONLIGHT,\n  };\n\n  const renderStroke = () => {\n    return (\n      <mesh {...meshProps}>\n        <meshLine attach=\"geometry\" geometry={shape.geometry} />\n        <meshLineMaterial\n          attach=\"material\"\n          depthTest={true}\n          lineWidth={strokeWidth}\n          color={strokeSettings.strokeColor}\n          sizeAttenuation={true}\n        />\n      </mesh>\n    );\n  };\n\n  const MaterialComponent = (props) => {\n    if (props.phong) {\n      return (\n        <meshPhongMaterial\n          attach=\"material\"\n          shininess={100}\n          specular={MOONLIGHT}\n          {...props}\n        />\n      );\n    }\n    return <meshStandardMaterial attach=\"material\" {...props} />;\n  };\n\n  const renderGeometry = () => {\n    if (rest.extrude) {\n      return (\n        <extrudeGeometry\n          attach=\"geometry\"\n          args={[shape.shape, extrudeSettings]}\n        />\n      );\n    }\n    return <shapeBufferGeometry attach=\"geometry\" args={[shape.shape]} />;\n  };\n\n  return (\n    <>\n      <mesh {...meshProps} receiveShadow castShadow>\n        <MaterialComponent\n          attach=\"material\"\n          map={texture}\n          transparent\n          {...materialProps}\n        />\n        {renderGeometry()}\n      </mesh>\n      {strokeWidth && renderStroke()}\n    </>\n  );\n};\n\nexport default SVGShape;\n","import React, { Suspense } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { MathUtils } from \"three\";\nimport { range } from \"../lib/utils\";\nimport SVGShape from \"./SVGShape\";\nimport { SUNLIGHT } from \"../constants/colors\";\n\nconst FiberStar = ({\n  numPoints,\n  radius,\n  zPosition = 0,\n  PointComponent,\n  ticks,\n  ...rest\n}) => {\n  const stepSize = 360 / numPoints;\n  return range(0, 360, stepSize).map((rot, i) => {\n    const rad = MathUtils.degToRad(rot);\n    if (typeof rest.scale === \"number\") {\n      rest.scale = [rest.scale, rest.scale, rest.scale];\n    }\n\n    let highlightProps = {};\n    if (typeof ticks === \"number\") {\n      if (ticks % numPoints === i && rest.highlight) {\n        highlightProps = rest.highlight;\n        highlightProps.zPosition = zPosition + 10;\n      } else {\n        highlightProps = {};\n      }\n    }\n\n    return (\n      <Suspense fallback={null} key={i}>\n        <PointComponent\n          key={i}\n          rotation={-rad}\n          position={[\n            Math.sin(rad) * radius,\n            Math.cos(rad) * radius,\n            (highlightProps.zPosition || zPosition) + i,\n          ]}\n          {...rest}\n          {...highlightProps}\n        />\n      </Suspense>\n    );\n  });\n};\n\nFiberStar.propTypes = {\n  numPoints: PropTypes.number.isRequired,\n  rotations: PropTypes.number.isRequired,\n  radius: PropTypes.number.isRequired,\n  zPosition: PropTypes.number.isRequired,\n};\n\nFiberStar.defaultProps = {\n  numPoints: 6,\n  rotations: 1,\n  radius: 0,\n  zPosition: 0,\n  PointComponent: SVGShape,\n};\n\nexport default FiberStar;\n","import React from \"react\";\nimport FiberStar from \"./FiberStar\";\n\nconst Pattern = ({ pattern, ticks }) => {\n  const layerData = pattern.layers.toList().toJS();\n  return layerData.map((layer, i) => {\n    return <FiberStar key={i} {...layer} ticks={ticks} />;\n  });\n};\n\nexport default Pattern;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ChromePicker } from \"react-color\";\n\nclass ColorButton extends React.Component {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n  };\n\n  state = {\n    displayColorPicker: false,\n  };\n\n  handleClick = () => {\n    this.setState({ displayColorPicker: !this.state.displayColorPicker });\n  };\n\n  handleClose = () => {\n    this.setState({ displayColorPicker: false });\n  };\n\n  render() {\n    const popover = {\n      position: \"absolute\",\n      zIndex: \"2\",\n    };\n    const cover = {\n      position: \"fixed\",\n      top: \"0px\",\n      right: \"0px\",\n      bottom: \"0px\",\n      left: \"0px\",\n    };\n    return (\n      <div className=\"color-button\">\n        <div\n          style={{\n            backgroundColor: this.props.value,\n            width: 34,\n            height: 34,\n            display: \"inline-block\",\n          }}\n          onClick={this.handleClick}\n        />\n        <button className=\"button is-primary\" onClick={this.handleClick}>\n          Pick Color\n        </button>\n        {this.state.displayColorPicker ? (\n          <div style={popover}>\n            <div style={cover} onClick={this.handleClose} />\n            <ChromePicker\n              color={this.props.value}\n              onChange={this.props.onChange}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default ColorButton;\n","import PATTERNS from \"../patterns\";\nimport React, { useState } from \"react\";\nimport cx from \"classnames\";\nimport { Button, Message, Field, Label } from \"rbx\";\nimport Slider, { createSliderWithTooltip } from \"rc-slider\";\nimport Select from \"react-select\";\nimport svgFiles from \"../svg\";\nimport ColorButton from \"./ColorButton\";\n\nconst SliderWithTooltip = createSliderWithTooltip(Slider);\n\nconst LAYER_CONTROLS = [\n  { name: \"numPoints\", type: \"number\", min: 1, max: 16, step: 1 },\n  { name: \"scale\", type: \"number\", min: 0.1, max: 5, step: 0.05 },\n  { name: \"radius\", type: \"number\", min: 0, max: 1000, step: 20 },\n  { name: \"zPosition\", type: \"number\", min: 0, max: 1000, step: 20 },\n  { name: \"depth\", type: \"number\", min: 0, max: 199, step: 5 },\n  { name: \"strokeWidth\", type: \"number\", min: 0, max: 30 },\n  { name: \"opacity\", type: \"number\", min: 0.1, max: 1, step: 0.05 },\n];\n\nconst TEXTURE_URLS = [\n  \"/img/mosaic.jpg\",\n  \"/img/concrete.jpg\",\n  \"/img/dark-stone.jpg\",\n];\n\nconst TEXTURE_OPTIONS = [{ label: \"None\", value: null }].concat(\n  TEXTURE_URLS.map((url) => ({\n    label: url,\n    value: process.env.PUBLIC_URL + url,\n  }))\n);\n\nconst SVG_OPTIONS = Object.keys(svgFiles).map((fileName) => {\n  const url = svgFiles[fileName];\n  return { label: fileName, value: url };\n});\n\nconst PATTERN_OPTIONS = PATTERNS.map((pattern, i) => ({\n  label: pattern.name,\n  value: i,\n}));\n\nconst customStyles = {\n  container: (provided) => ({\n    ...provided,\n    width: 200,\n  }),\n  option: (provided) => ({\n    ...provided,\n    color: \"black\",\n  }),\n};\n\nconst FieldWrapper = ({ labelText, children }) => {\n  return (\n    <Field horizontal expanded>\n      <Field.Label size=\"small\" className=\"is-normal\">\n        <Label className=\"has-text-light\">{labelText}</Label>\n      </Field.Label>\n      <Field.Body>{children}</Field.Body>\n    </Field>\n  );\n};\n\nconst LayerControls = ({ layer, updatePattern, onHide }) => {\n  const [hidden, setHidden] = useState(false);\n\n  const renderNumberField = (prop, i) => {\n    return (\n      <FieldWrapper key={i} labelText={prop.name}>\n        <SliderWithTooltip\n          {...prop}\n          type=\"range\"\n          size=\"small\"\n          menuPlacement=\"auto\"\n          menuPosition=\"fixed\"\n          value={layer[prop.name] || 1}\n          onChange={(value) => {\n            updatePattern(layer.id, prop.name, value);\n          }}\n        />\n      </FieldWrapper>\n    );\n  };\n\n  const renderTextureUrlField = (propName) => {\n    const value = layer[propName]\n      ? TEXTURE_OPTIONS.find((o) => o.value === layer[propName])\n      : TEXTURE_OPTIONS[0];\n\n    return (\n      <Field horizontal expanded>\n        <Field.Label size=\"small\" className=\"is-normal\">\n          <Label className=\"has-text-light\">{propName}</Label>\n        </Field.Label>\n        <Field.Body style={{ width: \"300px\" }}>\n          <Select\n            options={TEXTURE_OPTIONS}\n            value={value}\n            onChange={(option) => {\n              updatePattern(layer.id, propName, option.value);\n            }}\n            styles={customStyles}\n          />\n        </Field.Body>\n      </Field>\n    );\n  };\n\n  const renderSvgUrlField = (propName) => {\n    const value = layer[propName]\n      ? SVG_OPTIONS.find((o) => o.value === layer[propName])\n      : SVG_OPTIONS[0];\n\n    return (\n      <Field horizontal expanded>\n        <Field.Label size=\"small\" className=\"is-normal\">\n          <Label className=\"has-text-light\">{propName}</Label>\n        </Field.Label>\n        <Field.Body style={{ width: \"300px\" }}>\n          <Select\n            options={SVG_OPTIONS}\n            value={value}\n            onChange={(option) => {\n              updatePattern(layer.id, propName, option.value);\n            }}\n            styles={customStyles}\n          />\n        </Field.Body>\n      </Field>\n    );\n  };\n\n  return (\n    <Message className=\"layer-controls is-small\">\n      <div className=\"message-header\">\n        <p>Layer {layer.id}</p>\n        <Button size=\"small\" onClick={() => setHidden(!hidden)}>\n          {hidden ? \"Show\" : \"Hide\"}\n        </Button>\n      </div>\n      {!hidden && (\n        <div className=\"message-body\">\n          {LAYER_CONTROLS.map((prop, i) => renderNumberField(prop, i))}\n\n          <FieldWrapper labelText=\"fillColor\">\n            <ColorButton\n              value={layer.fillColor}\n              onChange={(color) => {\n                updatePattern(layer.id, \"fillColor\", color.hex);\n              }}\n            />\n          </FieldWrapper>\n\n          {renderSvgUrlField(\"url\")}\n          {renderTextureUrlField(\"textureUrl\")}\n        </div>\n      )}\n    </Message>\n  );\n};\n\nexport default ({\n  pattern,\n  patternIndex,\n  setPatternIndex,\n  controlsVisible,\n  setControlsVisible,\n  intensity,\n  setIntensity,\n  updatePattern,\n}) => {\n  const renderLayer = (layer, i) => {\n    return (\n      <LayerControls\n        key={layer.id}\n        layer={layer}\n        updatePattern={updatePattern}\n      />\n    );\n  };\n\n  const patternValue = PATTERN_OPTIONS[patternIndex];\n\n  const renderControls = () => {\n    return (\n      <section className=\"section\">\n        <Message className=\"global-controls\" size=\"small\">\n          <Message.Body>\n            <FieldWrapper labelText=\"Pattern\">\n              <Select\n                options={PATTERN_OPTIONS}\n                value={patternValue}\n                onChange={(opt) => setPatternIndex(opt.value)}\n                styles={customStyles}\n              />\n            </FieldWrapper>\n            <FieldWrapper labelText=\"Point light intensity\">\n              <Slider\n                min={0.1}\n                max={5}\n                step={0.05}\n                value={intensity}\n                onChange={(val) => setIntensity(val)}\n              />\n            </FieldWrapper>\n          </Message.Body>\n        </Message>\n        {pattern && pattern.layers.toList().toJS().map(renderLayer)}\n      </section>\n    );\n  };\n\n  return (\n    <div\n      className={cx(\"scene-controls is-dark has-text-light\", {\n        visible: controlsVisible,\n      })}\n    >\n      <Button size=\"small\" onClick={() => setControlsVisible(!controlsVisible)}>\n        {controlsVisible ? \"Hide\" : \"Show\"}\n      </Button>\n      {controlsVisible && renderControls()}\n    </div>\n  );\n};\n","import { useState, useCallback } from \"react\";\nimport qs from \"querystring\";\n\nconst setQueryStringWithoutPageReload = (qsValue) => {\n  const newurl =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    qsValue;\n  window.history.pushState({ path: newurl }, \"\", newurl);\n};\n\nexport const getQueryStringValue = (\n  key,\n  queryString = window.location.search\n) => {\n  const values = qs.parse(queryString.substring(1));\n  return values[key];\n};\n\nconst setQueryStringValue = (\n  key,\n  value,\n  queryString = window.location.search\n) => {\n  const values = qs.parse(queryString.substring(1));\n  const newQsValue = qs.stringify({ ...values, [key]: value });\n  setQueryStringWithoutPageReload(`?${newQsValue}`);\n};\n\nfunction useQueryString(key, initialValue) {\n  const [value, setValue] = useState(getQueryStringValue(key) || initialValue);\n  const onSetValue = useCallback(\n    (newValue) => {\n      setValue(newValue);\n      setQueryStringValue(key, newValue);\n    },\n    [key]\n  );\n\n  return [value, onSetValue];\n}\n\nexport default useQueryString;\n","import { TEAL } from \"../constants/colors\";\nimport { a, useSpring } from \"react-spring/three\";\nimport React from \"react\";\n\nconst CenterCone = () => {\n  const springProps = useSpring({\n    loop: true,\n    to: { number: 4, scale: 1.5, zPos: 0 },\n    from: { number: 1, scale: 1, zPos: 0 },\n    config: { duration: 7000 },\n    reset: true,\n  });\n\n  return (\n    <a.mesh\n      name=\"cone\"\n      rotation={[Math.PI / 2, 0, 0]}\n      position-z={springProps.zPos}\n      scale-x={springProps.scale}\n      scale-y={springProps.scale}\n      scale-z={springProps.scale}\n      castShadow\n    >\n      <coneGeometry attach=\"geometry\" args={[200, 200, 32]} />\n      <meshStandardMaterial attach=\"material\" color={TEAL} />\n    </a.mesh>\n  );\n};\n\nexport default CenterCone;\n","import { Loop, Transport } from \"tone\";\nimport { useEffect, useRef } from \"react\";\n\nTransport.bpm.value = 90;\nwindow._transport = Transport;\n\nexport default function Timer({ setTicks }) {\n  const ticks = useRef(0);\n  useEffect(() => {\n    console.log(\"init loop\");\n    new Loop((ts) => {\n      ticks.current++;\n      ticks.current = ticks.current % 16;\n      setTicks(ticks.current);\n    }, \"4n\").start(0);\n  }, [setTicks]);\n\n  return null;\n}\n","import React, { Suspense, useEffect, useState } from \"react\";\nimport { Canvas } from \"react-three-fiber\";\nimport { Loop, Transport } from \"tone\";\nimport PATTERNS from \"./patterns\";\nimport FiberCanvas from \"./components/FiberCanvas\";\nimport Pattern from \"./components/Pattern\";\nimport SceneControls from \"./components/SceneControls\";\nimport useQueryString from \"./hooks/useQueryString\";\nimport \"./App.css\";\nimport SVGShape from \"./components/SVGShape\";\nimport svgFiles from \"./svg\";\nimport { SLATE, TEAL } from \"./constants/colors\";\nimport CenterCone from \"./components/CenterCone\";\nimport Timer from \"./components/Timer\";\n\nfunction App() {\n  const [animating, setAnimating] = useState(false);\n  const [ticks, setTicks] = useState(null);\n  const [intensity, setIntensity] = useState(0.01);\n  const [patternIndex, setPatternIndex] = useQueryString(\"i\", 0);\n  const [pattern, setPattern] = useState(PATTERNS[patternIndex]);\n  const [controlsVisible, setControlsVisible] = useState(false);\n\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      console.log(e);\n      if (e.metaKey) {\n        return;\n      }\n\n      if (e.keyCode === 32) {\n        if (animating) {\n          Transport.pause();\n        } else {\n          Transport.start();\n          console.log(\"start animating\");\n        }\n        setAnimating(!animating);\n      } else if (e.key === \"ArrowLeft\") {\n        let i = (patternIndex - 1) % PATTERNS.length;\n        if (i < 0) {\n          i = PATTERNS.length - 1;\n        }\n        setPatternIndex(i);\n        setPattern(PATTERNS[i]);\n      } else if (e.key === \"ArrowRight\") {\n        const i = (patternIndex + 1) % PATTERNS.length;\n        setPatternIndex(i);\n        setPattern(PATTERNS[i]);\n      }\n    };\n\n    window.addEventListener(\"keydown\", onKeyDown);\n    console.log(\"setup key listeners\");\n\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [animating, patternIndex, setPatternIndex]);\n\n  const updatePatternLayer = (i, key, val) => {\n    setPattern((pattern) => ({\n      ...pattern,\n      layers: pattern.layers.setIn([i, key], val),\n    }));\n  };\n\n  useEffect(() => {\n    const newPattern = PATTERNS[patternIndex];\n    setPattern(newPattern);\n  }, [patternIndex]);\n\n  return (\n    <main className=\"App\">\n      <SceneControls\n        pattern={pattern}\n        patternIndex={patternIndex}\n        setPatternIndex={setPatternIndex}\n        controlsVisible={controlsVisible}\n        setControlsVisible={setControlsVisible}\n        intensity={intensity}\n        setIntensity={setIntensity}\n        updatePattern={updatePatternLayer}\n      />\n      <Timer setTicks={setTicks} />\n      <Canvas\n        camera={{\n          fov: 90,\n          position: [0, 0, 500],\n          near: 100,\n          far: 10000,\n          up: [0, 0, 100],\n        }}\n        onCreated={(scene) => {\n          window.__scene = scene;\n          scene.camera.lookAt(0, 0, 0);\n        }}\n      >\n        <FiberCanvas animating={animating} intensity={intensity}>\n          <Pattern key={pattern.name} pattern={pattern} ticks={ticks} />\n          <CenterCone />\n          <Suspense fallback={null}>\n            <SVGShape\n              url={svgFiles[\"hexagon.svg\"]}\n              fillColor={SLATE}\n              textureUrl={\"concrete.jpg\"}\n              rotation={0}\n              scale={[10, 10, 5]}\n              position={[0, 0, -100]}\n              depth={10}\n            />\n          </Suspense>\n        </FiberCanvas>\n      </Canvas>\n    </main>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./App.css\";\nimport \"./app.sass\";\nimport \"rc-slider/assets/index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}